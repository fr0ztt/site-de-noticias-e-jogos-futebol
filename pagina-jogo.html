<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
  <title>Document</title>
</head>
<body>
  <script>
      let query = localStorage.getItem("equipa1");
      let equipa2 = localStorage.getItem("equipa2");
      let res1 = localStorage.getItem("resultado1");
      let res2 = localStorage.getItem("resultado2");
      let oddHome = localStorage.getItem("oddHome");
      let oddAway = localStorage.getItem("oddAway");
      let oddDraw = localStorage.getItem("oddDraw");

      document.querySelector("title").innerHTML = query + " x " + equipa2;


      let divGame = document.createElement('div');
      divGame.classList.add("game");
        

      let pEquipa1 = document.createElement('p');
      pEquipa1.innerHTML = query;
      pEquipa1.classList.add("nome");
      divGame.appendChild(pEquipa1);

      let pRes1 = document.createElement('p');
      pRes1.innerHTML = res1;
      pRes1.className= "nome res";
      divGame.appendChild(pRes1);

      let pVS = document.createElement('p');
      pVS.innerHTML = "vs"
      pVS.classList.add("vs");
      divGame.appendChild(pVS);

      let pRes2 = document.createElement('p');
      pRes2.innerHTML = res2;
      pRes2.className= "nome res";
      divGame.appendChild(pRes2);

      let pEquipa2 = document.createElement('p');
      pEquipa2.innerHTML = equipa2;
      pEquipa2.classList.add("nome");
      divGame.appendChild(pEquipa2);
      

      document.body.appendChild(divGame);


      let divOdds = document.createElement('div');

      let pEXP = document.createElement('p');
      pEXP.innerHTML = "Live ODDS (" + query + "| " + "Empate | " + equipa2 +")";
      pEXP.classList.add("ods");
      divOdds.appendChild(pEXP);

          let poddHome = document.createElement('p');
          poddHome.innerHTML = oddHome + " |";
          poddHome.classList.add("ods");
          divOdds.appendChild(poddHome);

          let poddDraw = document.createElement('p');
          poddDraw.innerHTML = oddDraw;
          poddDraw.classList.add("ods");
          divOdds.appendChild(poddDraw);

          let poddAway = document.createElement('p');
          poddAway.innerHTML = "| " + oddAway;
          poddAway.classList.add("ods");
          divOdds.appendChild(poddAway);

          divGame.appendChild(divOdds);

      const options1 = {
      method: 'GET',
    };

    const url = 'https://newsapi.org/v2/top-headlines?apiKey=8e30f1d4db0b4071a9051338bad86dda&language=pt&category=sports&q=' + localStorage.getItem("equipa1");

    fetch( url , options1)
    .then(function(response) {
      return response.json();
    })
    .then(function(dados) {

      let imgNot = document.createElement('img');
      console.log(dados.articles)
      if (dados.articles.length == 0){

      }else{
      imgNot.src = dados.articles[0].urlToImage;
      imgNot.classList.add("img");
      document.body.appendChild(imgNot);

      let pGame = document.createElement('p');
      pGame.innerHTML = dados.articles[0].title;
      pGame.classList.add("nome");
      document.body.appendChild(pGame);
      }
      
    });
  </script>
</body>
</html>